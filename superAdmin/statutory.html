
<!doctype html>
<html lang="en">

<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <!-- Latest compiled and minified CSS -->
<!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css"></link> -->

    <meta charset="utf-8">

<link href="https://demo.dashboardpack.com/architectui-html-free/main.css" rel="stylesheet"></link>
<!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"></link> -->
<link rel="stylesheet" href="superAdminDashboard.css"></link>

<!-- 
 <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.12.1/css/jquery.dataTables.css">

<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.12.1/js/jquery.dataTables.js"></script> -->


<link rel="stylesheet"  href="https://cdn.datatables.net/1.10.12/css/dataTables.bootstrap.min.css"></link>
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/buttons/1.2.2/css/buttons.bootstrap.min.css"></link>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
<script src="https://cdn.datatables.net/1.10.12/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/buttons/1.2.2/js/dataTables.buttons.min.js"></script>
<script src="https://cdn.datatables.net/buttons/1.2.2/js/buttons.colVis.min.js"></script>
<script src="https://cdn.datatables.net/buttons/1.2.2/js/buttons.html5.min.js"></script>
<script src="https://cdn.datatables.net/buttons/1.2.2/js/buttons.print.min.js"></script>
<script src="https://cdn.datatables.net/1.10.12/js/dataTables.bootstrap.min.js"></script>
<script src="https://cdn.datatables.net/buttons/1.2.2/js/buttons.bootstrap.min.js"></script>
<script type="https://cdnjs.cloudflare.com/ajax/libs/jszip/2.5.0/jszip.min.js"></script>
<script type="https://cdn.rawgit.com/bpampuch/pdfmake/0.1.18/build/vfs_fonts.js"></script>
<script type="https://cdn.rawgit.com/bpampuch/pdfmake/0.1.18/build/pdfmake.min.js"></script>
<style>
   .modal-backdrop.show{
        position: inherit;
    }
    .modal.show .modal-dialog{margin-left: 326px;}
    .modal-content{
        margin-top: 80px;
    }
    .dataTables_length{margin-left: 655px;}
    .modal-dialog{max-width: 800px!important;}                                                                                  
     .switch {
  position: relative;
  display: inline-block;
  width: 60px;
  height: 28px;
}

.switch input { 
  opacity: 0;
  width: 0;
  height: 0;
}

.slider {
  position: absolute;
  cursor: pointer;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: #ccc;
  -webkit-transition: .4s;
  transition: .4s;
}

.slider:before {
  position: absolute;
  content: "";
  height: 19px;
  width: 26px;
  left: 4px;
  bottom: 4px;
  background-color: white;
  -webkit-transition: .4s;
  transition: .4s;
}

input:checked + .slider {
  background-color: #2196F3;
}

input:focus + .slider {
  box-shadow: 0 0 1px #2196F3;
}

input:checked + .slider:before {
  -webkit-transform: translateX(26px);
  -ms-transform: translateX(26px);
  transform: translateX(26px);
}

/* Rounded sliders */
.slider.round {
  border-radius: 34px;
}

.slider.round:before {
  border-radius: 50%;
}                                                                                                                                                                                                                                                                                                 
</style>
<body>
     <div class="app-container app-theme-white body-tabs-shadow fixed-sidebar fixed-header">
        <div class="app-header header-shadow">
            <div class="app-header__logo">
               <h4>Logo</h4>
                <div class="header__pane ml-auto">

                    <div>
                        <button type="button" class="hamburger close-sidebar-btn hamburger--elastic" data-class="closed-sidebar">
                            <span class="hamburger-box">
                                <span class="hamburger-inner"></span>
                            </span>
                        </button>
                    </div>
                </div>
            </div>
            <div class="app-header__mobile-menu">
                <div>
                    <button type="button" class="hamburger hamburger--elastic mobile-toggle-nav">
                        <span class="hamburger-box">
                            <span class="hamburger-inner"></span>
                        </span>
                    </button>
                </div>
            </div>
<!-- ----------------------mobile view k liye------------------------ -->            
            <div class="app-header__menu">
                      <div class="dropdown">
  <button onclick="myFunction()" class="dropbtn"><img src="../images/download3.png" class="navlogo"> Super Admin</button>
  <div class="dropdown-menu" id="myDropdown">
            <div class="abc" id="adminDropdown1">
              <center>
                <img src="../images/download3.png" class="dropImg">
                <h4>E-mail</h4>
                <h4 class="emailresponsive">abcd123@gmail.com</h4>
              </center>
            </div>
              <div class="col-sm-12 col-xs-12" id="adminDropdown2">
                <div class="col-sm-12" id="adminDropdown2">
                <a href=""><button type="submit" class="btn btn-primary">My Profile</button></a>
              <div class="pull-right">
              <a href=""><button type="button" class="btn btn-danger">Logout</button></a>
              </div>
            </div>
            </div>
          </div>
  
</div>  
              
            </div>   
<!-- ----------------------mobile view k liye---end--------------------- -->  
             <div class="app-header__content">
                <div class="app-header-left">
                    
                    </div>
                <div class="app-header-right">
                      <div class="dropdown">
  <button onclick="myFunction2()" class="dropbtn"><img src="../images/download3.png" class="navlogo"> Super Admin</button>
  <div class="dropdown-menu" id="myDropdown2">
            <div class="abc" id="adminDropdown1">
              <center>
                <img src="../images/download3.png" class="dropImg">
                <h4>Username</h4>
                <h4 class="emailresponsive">abcd1234@gmail.com</h4>
              </center>
            </div>
              <div class="col-lg-12 col-md-12 " id="adminDropdown2">
                <div class="row">
                    <div class="col-lg-5 col-md-5 " id="">
                <a href="my_profile.html"><button type="submit" class="btn btn-warning" style="white-space: nowrap;">My Profile</button></a>
             </div>
             <div class="col-lg-2 col-md-2 " id=""></div>
             <div class="col-lg-5 col-md-5 " id="">
                <div class="pull-right">
              <a href=""><button type="button" class="btn btn-danger">Logout</button></a>
          </div>
            </div>
            </div>
            </div>
          </div>
  
</div>

                </div>
            </div>
        </div>      
<!-- -------------------sidebar--------------------- -->
        <div class="app-main">
                <div class="app-sidebar sidebar-shadow">
                    <div class="app-header__logo">

                       <div class="logo-src"></div>
                        <div class="header__pane ml-auto">
                            <div>
                                <button type="button" class="hamburger close-sidebar-btn hamburger--elastic" data-class="closed-sidebar">
                                    <span class="hamburger-box">
                                        <span class="hamburger-inner"></span>
                                    </span>
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="app-header__mobile-menu">
                        <div>
                            <button type="button" class="hamburger hamburger--elastic mobile-toggle-nav">
                                <span class="hamburger-box">
                                    <span class="hamburger-inner"></span>
                                </span>
                            </button>
                        </div>
                    </div>
                    <div class="app-header__menu">
                        <span>
                            <button type="button" class="btn-icon btn-icon-only btn btn-primary btn-sm mobile-toggle-header-nav">
                                <span class="btn-icon-wrapper">
                                    <i class="fa fa-ellipsis-v fa-w-6"></i>
                                </span>
                            </button>
                        </span>
                    </div>    <div class="scrollbar-sidebar">
                        <div class="app-sidebar__inner">
                            <ul class="vertical-nav-menu">
                                <li class="app-sidebar__heading">Dashboards</li>
                                <li>
                                    <a href="superAdminDashboard.html" class="mm-active">
                                        <i class="metismenu-icon pe-7s-rocket"></i>
                                        Super Admin Dashboard 
                                    </a>
                                </li>
                               
                                <li class="mm-active">
                                    <a href="#">
                                        <i class="metismenu-icon pe-7s-diamond"></i>
                                        Master Setup
                                        <i class="metismenu-state-icon pe-7s-angle-down caret-left"></i>
                                    </a>
                                    <ul class="mm-collapse mm-show">
                                        <li>
                                            <a href="companies.html">
                                                <i class="metismenu-icon"></i>
                                                Companies
                                            </a>
                                        </li>
                                        <li>
                                            <a href="statutory.html">
                                                <i class="metismenu-icon">
                                                </i>Statutory
                                            </a>
                                        </li>
                                       
                                      
                                       
                                        <li>
                                            <a href="#">
                                                <i class="metismenu-icon">
                                                </i>Group User
                                            </a>
                                        </li>
                                        <li>
                                            <a href="companyAdmin.html">
                                                <i class="metismenu-icon">
                                                </i>Company Admin
                                            </a>
                                        </li>
                                        <li>
                                            <a href="divisionAdmin.html">
                                                <i class="metismenu-icon">
                                                </i>Division Admin
                                            </a>
                                        </li>
                                        <li>
                                            <a href="divisionEndUser.html">
                                                <i class="metismenu-icon">
                                                </i>Division End User
                                            </a>
                                        </li>
                                    </ul>
                                </li>

                             
                               
                                <li class="mm-active">
                                    <a href="#">
                                        <i class="metismenu-icon pe-7s-settings"></i>
                                        Settings
                                        <i class="metismenu-state-icon pe-7s-angle-down caret-left"></i>
                                    </a>
                                    <ul  class="mm-collapse mm-show">
                                        <li>
                                            <a href="my_profile.html">
                                                <i class="metismenu-icon"></i>
                                                My Account
                                            </a>
                                        </li>
                                        <li>
                                            <a href="change_password.html">
                                                <i class="metismenu-icon">
                                                </i>Change Password
                                            </a>
                                        </li>
                                       
                                      
                                       
                                     
                                      
                                    </ul>
                                </li>
                                
                              
                            </ul>
                        </div>
                    </div>
                </div> 


<!-- --------------sidebar end----------------- -->
                   <div class="app-main__outer">
        <!-- ----------------content---------------------- -->
                    <div class="app-main__inner">
                                  
                         
                          
                             <div class="col-lg-12 col-md-12 col-sm-12 colxs-12">
                            
                            <div class="card">
                                <div class="card-body">
                                      <!-- ----------table------------- --> 

    <div class="col-xs-12 form-group">
        <button class="btn pull-right add" style="margin-top: 20px; background-color: #005f98; border-radius: 5px;" ><a href="statutoryAdd.html" style="color: white;"><i class="fa fa-plus" aria-hidden="true"></i> Add Statutory</a></button>
      </div>
      <div class="container col-xs-12">
        <div class="panel-group">
          <div class="panel panel-default">
            <div class="head panel-heading">
                <h4>Statutory List</h4>
            </div>

 
                        <div class="table-responsive" id="example">
                            
    <table class="datatable-basic table table-striped nowrap table1"  cellspacing="0" width="100%">
        <thead>
            <tr>
                <th>Sl No.</th>
                <th>Statutory Id</th>
                <th>Statutory Name</th>
                <th>Frequency</th>
                <th>Last Date</th>
             <!--    <th>insertedAt</th> -->
                <th>Action</th>
                 <th>Status</th>

              
            </tr>
        </thead>
        <tbody id="companyTable">
         
        </tbody>
    </table>

                        </div>
                                    
<!-- <table  class="table table-striped table-bordered" cellspacing="0" width="100%">
    <thead>
        <tr>
            <th>Sl No.</th>
            <th>Company Id</th>
            <th>Company Name</th>
            <th>Company Type</th>
            <th>Action</th>
        </tr>
    </thead>
    <tbody id="companyTable">
       
    </tbody>
</table>
 -->



                                      <!-- --------------------table end------------------- -->
                                </div>


                        </div>
                       </div>
                        
                        
                        
                    </div>
         <!-- ----------------content--end-------------------- -->            
                    <div class="app-wrapper-footer">
                        <div class="app-footer">
                            <div class="app-footer__inner">
                               
                               
                            </div>
                        </div>
                    </div>    </div>



               
    </div>


         <!-- -------------Modl 1-------------- -->
  
     <div class="modal left fade" id="editEmployeeModal1" tabindex="" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">                      
    <h4 class="modal-title"><b>Edit Statutory</b></h4>
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
</div>          
            <form>
                <div class="modal-body">
                        <div class="row">
                                                    <div class="col-12 col-sm-6">
                                                        <div class="form-group">
                                                            <input type="hidden" id="statutoryId" name="statutoryId">
                                                            <label for="account-username">Statutory Name</label>
                                                             <input type="text" class="form-control" 
                                                            id="statutoryName" name="statutoryName" placeholder="Statutory Name" value="" />
                                                           
                                                        </div>
                                                    </div>
                                                    <div class="col-12 col-sm-6">
                                                        <div class="form-group">
                                                            <label>Select Frequency</label>
                                                        <select class="select2 form-control" 
                                                         id="frequency" name="frequency">
                                                                
                                                                <option value='MONTHLY'> Monthly</option>
                                                                <option value="QUATERLY">Quaterly</option>
                                                                <option value="HALFYEARLY">Half Yearly</option>
                                                                <option value="YEARLY">Yearly</option>
                                                        </select>
                                                    </div>
                                                </div>
                                                      <div class="col-12 col-sm-6">
                                                        <div class="form-group">
                                                            <label for="account-e-mail">Last Date</label>
                                                            <input type="date" class="form-control" 
                                                            id="lastDate" name="lastDate" placeholder="Last date" value="" />
                                                        </div>
                                                    </div>
                                                    
                                                     

                                                    <div class="col-12 mt-75">
                                                       
                                                    </div>
                                                    <div class="col-12">
                                                        <div class="bttons">
                                                        <button type="button" onclick="updateStatutory()" class="btn btn-primary mt-2 mr-1">Save Changes</button>
                                                        <button type="reset" class="btn btn-outline-secondary mt-2">Cancel</button>
                                                    </div>
                                                    </div>
                                                </div>
                </div>
            </form>
                <div class="modal-footer">
                    
                </div>
            </div>
        </div>
    </div>
     <!-- -------------Modl 2-------------- -->
  
     <div class="modal left fade" id="editEmployeeModal2" tabindex="" role="dialog" aria-labelledby="" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">                      
    <h4 class="modal-title"><b>View Statutory</b></h4>
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
</div>          
            <form>
                <div class="modal-body">
                        <div class="row">
                                                    <div class="col-12 col-sm-6">
                                                        <div class="form-group">
                                                            <input type="hidden" id="statutoryIdView" name="statutoryIdView">
                                                            <label for="account-username">Statutory Name</label>
                                                              <select class="select2 form-control" 
                                                         id="statutoryNameView" name="statutoryNameView" disabled>
                                                                
                                                                <option value='GSTR'> GSTR</option>
                                                                <option value="TDR">TDR</option>
                                                                <option value="TDS">TDS</option>
                                                                <option value="OTHER">OTHER</option>
                                                           
                                                           
                                                        </select>
                                                          <!--   <insput type="text" class="form-control" id="statutoryName" name="statutoryName" placeholder="Statutory Name" value="" /> -->
                                                        </div>
                                                    </div>
                                                    <div class="col-12 col-sm-6">
                                                        <div class="form-group">
                                                            <label>Select Frequency</label>
                                                        <select class="select2 form-control" 
                                                         id="frequencyView" name="frequencyView" disabled>
                                                                
                                                                <option value='MONTHLY'> Monthly</option>
                                                                <option value="QUATERLY">Quaterly</option>
                                                                <option value="HALFYEARLY">Half Yearly</option>
                                                                <option value="YEARLY">Yearly</option>
                                                        </select>
                                                    </div>
                                                </div>
                                                      <div class="col-12 col-sm-6">
                                                        <div class="form-group">
                                                            <label for="account-e-mail">Last Date</label>
                                                            <input type="text" class="form-control" 
                                                            id="lastDateView" name="lastDateView" placeholder="Last date" value="" disabled/>
                                                        </div>
                                                    </div>
                                                    
                                                     

                                                    <div class="col-12 mt-75">
                                                       
                                                    </div>
                                                   
                                                </div>
                </div>
            </form>
                <div class="modal-footer">
                    
                </div>
            </div>
        </div>
    </div>
<script type="text/javascript" src="https://demo.dashboardpack.com/architectui-html-free/assets/scripts/main.js"></script>
<script>
/* When the user clicks on the button, 
toggle between hiding and showing the dropdown content */
function myFunction2() {
  document.getElementById("myDropdown2").classList.toggle("show");
}

// Close the dropdown if the user clicks outside of it
window.onclick = function(event) {
  if (!event.target.matches('.dropbtn')) {
    var dropdowns = document.getElementsByClassName("dropdown-content");
    var i;
    for (i = 0; i < dropdowns.length; i++) {
      var openDropdown = dropdowns[i];
      if (openDropdown.classList.contains('show')) {
        openDropdown.classList.remove('show');
      }
    }
  }
}
</script>
<script>
/* When the user clicks on the button, 
toggle between hiding and showing the dropdown content */
function myFunction() {
  document.getElementById("myDropdown").classList.toggle("show");
}

// Close the dropdown if the user clicks outside of it
window.onclick = function(event) {
  if (!event.target.matches('.dropbtn')) {
    var dropdowns = document.getElementsByClassName("dropdown-content");
    var i;
    for (i = 0; i < dropdowns.length; i++) {
      var openDropdown = dropdowns[i];
      if (openDropdown.classList.contains('show')) {
        openDropdown.classList.remove('show');
      }
    }
  }
}
</script>

<script>
        $(document).ready(function(){
        $.ajax( {
    url:"http://localhost:8088/getAllStatutory",
    method:"GET",
    dataType:"JSON",
    success:function(response){
    console.log(response);
       for(i=0; i<response.length; i++){
           
       var statutoryId=response[i].statutoryId;
       var statutoryName=response[i].statutoryName; 
       var frequency=response[i].frequency;
       var lastDate=response[i].lastDate;
       var insertedAt=response[i].insertedAt;
       var enabled=response[i].enabled;

        if(enabled){
        var enableStatus="<label class='switch'><input type='checkbox' onclick='checkboxBtn("+statutoryId+")' id='checkboxBTN' value='"+enabled+"' checked><span class='slider'></span></label>";
       }else{
        var enableStatus="<label class='switch'><input type='checkbox' onclick='checkboxBtn("+statutoryId+")' id='checkboxBTN' value='"+enabled+"'><span class='slider'></span></label>";

       }

       
      
      tableData="<tr><td></td><td>"+statutoryId+"</td><td>"+statutoryName+"</td><td>"+frequency+"</td><td>"+lastDate+"</td><td><button type='button' onclick='statutoryView("+statutoryId+")' class='btn btn-success btn-icon-only btn-sm' data-toggle='modal' data-target='#editEmployeeModal2'> View</button><button type='button' onclick='statutoryEdit("+statutoryId+")' class='btn btn-primary btn-icon-only btn-sm' data-toggle='modal' data-target='#editEmployeeModal1'> Edit</button></td><td>"+enableStatus+"</td></tr>";
       $("#companyTable").append(tableData);
      

     }





      $(document).ready(function() {
    //Only needed for the filename of export files.
    //Normally set in the title tag of your page.
    document.title='Simple DataTable';
    // DataTable initialisation
    $('.table1').DataTable(
        {
             "fnRowCallback" : function(nRow, aData, iDisplayIndex){
                $("td:first", nRow).html(iDisplayIndex +1);
               return nRow;
            },
            "dom": '<"dt-buttons"Bf><"clear">lirtp',
            "paging": true,
            "autoWidth": true,
            "bSort": false,
            "buttons": [
               
            ]
        }
    );
});
      
    }, error:function(error){
      alert("Errrror");
    }

  });
    });
</script>
<script>



     function checkboxBtn(statutoryId){
         $.ajax( {
    url:"http://localhost:8088/getStatutoryByStatutoryId/"+statutoryId,
    method:"GET",
    dataType:"JSON",
    success:function(response){
    console.log(response); 
    var cid=response.cid;
    var enabled=response.enabled;
   
    if(enabled == false){
                     $.ajax( {
    url:"http://localhost:8088/enableStatutory/"+statutoryId,
    method:"GET",
    dataType:"JSON",
    success:function(response){
    console.log(response); 
   alert("Company enabled")
  }, error:function(error){
      alert("Company enabled");
    }

  });
    }else{
         $.ajax( {
    url:"http://localhost:8088/disableStatutory/"+statutoryId,
    method:"GET",
    dataType:"JSON",
    success:function(response){
    console.log(response); 
   alert("Company disabled")
  }, error:function(error){
      alert("disable Errrror");
    }

  });

    }
    
  }, error:function(error){
      alert("Errrror");
    }

  });
}



    
</script>
<!-- ------------------View here-------------------- -->
<script>
    function statutoryView(statutoryId){
     
     $.ajax( {
    url:"http://localhost:8088/getStatutoryByStatutoryId/"+statutoryId,
    method:"GET",
    dataType:"JSON",
    success:function(response){
    console.log(response); 
    $("#statutoryIdView").val(response.statutoryId);
    $("#statutoryNameView").val(response.statutoryName);
    $("#frequencyView").val(response.frequency); 
    $("#lastDateView").val(response.lastDate);
  
  }, error:function(error){
      alert("Errrror");
    }

  });
}
</script>
<!-- ------------------edit here-------------------- -->
<script>
    function statutoryEdit(statutoryId){
     // $('#editEmployeeModal1').modal('show');
     
     $.ajax( {
    url:"http://localhost:8088/getStatutoryByStatutoryId/"+statutoryId,
    method:"GET",
    dataType:"JSON",
    success:function(response){
    console.log(response); 
    $("#statutoryId").val(response.statutoryId);
    $("#statutoryName").val(response.statutoryName);
    $("#frequency").val(response.frequency); 
    $("#lastDate").val(response.lastDate);
  
  }, error:function(error){
      alert("Errrror");
    }

  });
}
</script>
<!-- ------------update here--------------- -->
<script>
    function updateStatutory(){
        alert("Updating data...");
       var statutoryId=$("#statutoryId").val();
       var statutoryName=$("#statutoryName").val();
       var frequency=$("#frequency").val();
       var lastDate=$("#lastDate").val();
       lastDate = lastDate.split("-").reverse().join("-");

       var jsonObject={'statutoryId':statutoryId,'statutoryName':statutoryName,'frequency':frequency,'lastDate':lastDate};
       console.log(jsonObject);

       $.ajax({
        headers:{   
        'Access-Control-Allow-Origin': '*',
        'content-type': 'application/json; charset=utf-8',
        'cache-control': 'no-cache',
        'host': 'localhost:8088',
        'origin': 'http://localhost:8080/updateStatutoryDetails'
                  },
    url:"http://localhost:8088/updateStatutoryDetails",
    method:"PUT",
    dataType:"JSON",
    data:JSON.stringify(jsonObject),
    success:function(response){
      alert("data updated");
    console.log(response); 
  }, error:function(error){
      alert("Statutory update");
    }

  });
    }
</script>
<!-- <script>
    function deleteCompany(statutoryId){
        var confirmation = confirm("Are you sure you want to delete this??");
        if(confirmation){
    $.ajax( {
    url:"http://localhost:8088/deleteStatutoryById/"+statutoryId,
    method:"DELETE",
    dataType:"JSON",
    success:function(response){
    console.log(response); 
    alert("Data Deleted Successfully");
    
 
  }, error:function(error){
      alert("Errrror");
    }

  });
     }
    }
</script> -->

</body>
</html>
